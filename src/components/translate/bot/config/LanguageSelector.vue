<template>
    <div :class="[compact ? '' : 'space-y-3']">
        <label v-if="!compact && label" class="block text-sm font-semibold text-white">
            {{ label }}
        </label>
        <p v-if="!compact && description" class="text-sm text-zinc-400 mb-2">
            {{ description }}
        </p>

        <select
            :value="modelValue"
            @change="$emit('update:modelValue', $event.target.value)"
            class="w-full px-4 py-3 bg-zinc-900/50 border border-zinc-700/50 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent transition-all"
        >
            <option value="">Select a language...</option>
            <optgroup 
                v-for="category in languageCategories" 
                :key="category.name"
                :label="category.name"
            >
                <option 
                    v-for="lang in category.languages" 
                    :key="lang.code"
                    :value="lang.code"
                >
                    {{ lang.flag }} {{ lang.name }}
                </option>
            </optgroup>
        </select>
    </div>
</template>

<script setup>
import { computed } from 'vue'

const props = defineProps({
    modelValue: {
        type: String,
        default: ''
    },
    label: {
        type: String,
        default: ''
    },
    description: {
        type: String,
        default: ''
    },
    compact: {
        type: Boolean,
        default: false
    }
})

defineEmits(['update:modelValue'])

const languageCategories = [
    {
        name: 'Popular Languages',
        languages: [
            { code: 'en', name: 'English', flag: 'ğŸ‡¬ğŸ‡§' },
            { code: 'es', name: 'Spanish', flag: 'ğŸ‡ªğŸ‡¸' },
            { code: 'fr', name: 'French', flag: 'ğŸ‡«ğŸ‡·' },
            { code: 'de', name: 'German', flag: 'ğŸ‡©ğŸ‡ª' },
            { code: 'it', name: 'Italian', flag: 'ğŸ‡®ğŸ‡¹' },
            { code: 'pt', name: 'Portuguese', flag: 'ğŸ‡µğŸ‡¹' },
            { code: 'ru', name: 'Russian', flag: 'ğŸ‡·ğŸ‡º' },
            { code: 'ja', name: 'Japanese', flag: 'ğŸ‡¯ğŸ‡µ' },
            { code: 'ko', name: 'Korean', flag: 'ğŸ‡°ğŸ‡·' },
            { code: 'zh', name: 'Chinese (Simplified)', flag: 'ğŸ‡¨ğŸ‡³' },
        ]
    },
    {
        name: 'European Languages',
        languages: [
            { code: 'nl', name: 'Dutch', flag: 'ğŸ‡³ğŸ‡±' },
            { code: 'pl', name: 'Polish', flag: 'ğŸ‡µğŸ‡±' },
            { code: 'cs', name: 'Czech', flag: 'ğŸ‡¨ğŸ‡¿' },
            { code: 'hu', name: 'Hungarian', flag: 'ğŸ‡­ğŸ‡º' },
            { code: 'ro', name: 'Romanian', flag: 'ğŸ‡·ğŸ‡´' },
            { code: 'sv', name: 'Swedish', flag: 'ğŸ‡¸ğŸ‡ª' },
            { code: 'no', name: 'Norwegian', flag: 'ğŸ‡³ğŸ‡´' },
            { code: 'da', name: 'Danish', flag: 'ğŸ‡©ğŸ‡°' },
            { code: 'fi', name: 'Finnish', flag: 'ğŸ‡«ğŸ‡®' },
            { code: 'el', name: 'Greek', flag: 'ğŸ‡¬ğŸ‡·' },
            { code: 'tr', name: 'Turkish', flag: 'ğŸ‡¹ğŸ‡·' },
        ]
    },
    {
        name: 'Asian Languages',
        languages: [
            { code: 'hi', name: 'Hindi', flag: 'ğŸ‡®ğŸ‡³' },
            { code: 'th', name: 'Thai', flag: 'ğŸ‡¹ğŸ‡­' },
            { code: 'vi', name: 'Vietnamese', flag: 'ğŸ‡»ğŸ‡³' },
            { code: 'id', name: 'Indonesian', flag: 'ğŸ‡®ğŸ‡©' },
            { code: 'ms', name: 'Malay', flag: 'ğŸ‡²ğŸ‡¾' },
            { code: 'tl', name: 'Tagalog', flag: 'ğŸ‡µğŸ‡­' },
            { code: 'bn', name: 'Bengali', flag: 'ğŸ‡§ğŸ‡©' },
            { code: 'ur', name: 'Urdu', flag: 'ğŸ‡µğŸ‡°' },
        ]
    },
    {
        name: 'Other Languages',
        languages: [
            { code: 'ar', name: 'Arabic', flag: 'ğŸ‡¸ğŸ‡¦' },
            { code: 'he', name: 'Hebrew', flag: 'ğŸ‡®ğŸ‡±' },
            { code: 'uk', name: 'Ukrainian', flag: 'ğŸ‡ºğŸ‡¦' },
            { code: 'sr', name: 'Serbian', flag: 'ğŸ‡·ğŸ‡¸' },
            { code: 'bg', name: 'Bulgarian', flag: 'ğŸ‡§ğŸ‡¬' },
            { code: 'hr', name: 'Croatian', flag: 'ğŸ‡­ğŸ‡·' },
            { code: 'sk', name: 'Slovak', flag: 'ğŸ‡¸ğŸ‡°' },
            { code: 'sl', name: 'Slovenian', flag: 'ğŸ‡¸ğŸ‡®' },
        ]
    }
]
</script>
